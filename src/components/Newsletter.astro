<form>
    <div>
        <label for="email">Your best email address:</label>
    </div>
    <input id="email" required type="email" name="email" />
    <label>
        <input required type="checkbox" name="terms" />
        I agree
    </label>
    <button class="no-underline mb-64 font-semibold text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 rounded-lg text-sm px-5 py-2.5 dark:bg-red-600 dark:hover:bg-red-700 focus:outline-none dark:focus:ring-red-800">Sign up</button>
</form>

<script>
    import { actions } from 'astro:actions';
    import { navigate } from "astro:transitions/client";

    const form = document.querySelector('form');
    form?.addEventListener('submit', async (event) => {
        event.preventDefault();
        const formData = new FormData(form);
        const { error } = await actions.newsletter(formData);
        if (!error) navigate('/confirmation');
    })
</script>
